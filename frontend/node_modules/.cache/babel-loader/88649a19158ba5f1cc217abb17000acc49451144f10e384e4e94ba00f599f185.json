{"ast":null,"code":"import api from '@/api';\nconst state = {\n  events: [],\n  loading: false,\n  error: null\n};\nconst mutations = {\n  SET_EVENTS(state, events) {\n    state.events = events;\n  },\n  ADD_EVENT(state, event) {\n    state.events.push(event);\n  },\n  UPDATE_EVENT(state, updatedEvent) {\n    const index = state.events.findIndex(event => event.eventId === updatedEvent.eventId);\n    if (index !== -1) {\n      state.events.splice(index, 1, updatedEvent);\n    }\n  },\n  REMOVE_EVENT(state, eventId) {\n    state.events = state.events.filter(event => event.eventId !== eventId);\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  }\n};\nconst actions = {\n  async fetchEvents({\n    commit\n  }, {\n    date,\n    startDate,\n    endDate\n  } = {}) {\n    try {\n      commit('SET_LOADING', true);\n      commit('SET_ERROR', null);\n      const params = new URLSearchParams();\n      if (date) params.append('date', date);\n      if (startDate) params.append('startDate', startDate);\n      if (endDate) params.append('endDate', endDate);\n      const response = await api.get(`/calendar/events?${params.toString()}`);\n      commit('SET_EVENTS', response.data);\n    } catch (error) {\n      commit('SET_ERROR', error.response?.data?.message || '이벤트를 불러오는데 실패했습니다.');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  async createEvent({\n    commit\n  }, eventData) {\n    try {\n      commit('SET_LOADING', true);\n      commit('SET_ERROR', null);\n      const response = await api.post('/calendar/events', eventData);\n      commit('ADD_EVENT', response.data);\n      return response.data;\n    } catch (error) {\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 생성에 실패했습니다.');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  async updateEvent({\n    commit\n  }, {\n    eventId,\n    eventData\n  }) {\n    try {\n      commit('SET_LOADING', true);\n      commit('SET_ERROR', null);\n      const response = await api.put(`/calendar/events/${eventId}`, eventData);\n      commit('UPDATE_EVENT', response.data);\n      return response.data;\n    } catch (error) {\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 수정에 실패했습니다.');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  async deleteEvent({\n    commit\n  }, eventId) {\n    try {\n      commit('SET_LOADING', true);\n      commit('SET_ERROR', null);\n      await api.delete(`/calendar/events/${eventId}`);\n      commit('REMOVE_EVENT', eventId);\n    } catch (error) {\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 삭제에 실패했습니다.');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  }\n};\nconst getters = {\n  eventsByDate: state => date => {\n    return state.events.filter(event => event.eventDate === date);\n  },\n  hasEventsOnDate: state => date => {\n    return state.events.some(event => event.eventDate === date);\n  },\n  eventsInRange: state => (startDate, endDate) => {\n    return state.events.filter(event => {\n      const eventDate = new Date(event.eventDate);\n      return eventDate >= new Date(startDate) && eventDate <= new Date(endDate);\n    });\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["api","state","events","loading","error","mutations","SET_EVENTS","ADD_EVENT","event","push","UPDATE_EVENT","updatedEvent","index","findIndex","eventId","splice","REMOVE_EVENT","filter","SET_LOADING","SET_ERROR","actions","fetchEvents","commit","date","startDate","endDate","params","URLSearchParams","append","response","get","toString","data","message","createEvent","eventData","post","updateEvent","put","deleteEvent","delete","getters","eventsByDate","eventDate","hasEventsOnDate","some","eventsInRange","Date","namespaced"],"sources":["D:/03.기타/todolist/frontend/src/store/modules/calendar.js"],"sourcesContent":["import api from '@/api'\r\n\r\nconst state = {\r\n  events: [],\r\n  loading: false,\r\n  error: null\r\n}\r\n\r\nconst mutations = {\r\n  SET_EVENTS(state, events) {\r\n    state.events = events\r\n  },\r\n  ADD_EVENT(state, event) {\r\n    state.events.push(event)\r\n  },\r\n  UPDATE_EVENT(state, updatedEvent) {\r\n    const index = state.events.findIndex(event => event.eventId === updatedEvent.eventId)\r\n    if (index !== -1) {\r\n      state.events.splice(index, 1, updatedEvent)\r\n    }\r\n  },\r\n  REMOVE_EVENT(state, eventId) {\r\n    state.events = state.events.filter(event => event.eventId !== eventId)\r\n  },\r\n  SET_LOADING(state, loading) {\r\n    state.loading = loading\r\n  },\r\n  SET_ERROR(state, error) {\r\n    state.error = error\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  async fetchEvents({ commit }, { date, startDate, endDate } = {}) {\r\n    try {\r\n      commit('SET_LOADING', true)\r\n      commit('SET_ERROR', null)\r\n      \r\n      const params = new URLSearchParams()\r\n      if (date) params.append('date', date)\r\n      if (startDate) params.append('startDate', startDate)\r\n      if (endDate) params.append('endDate', endDate)\r\n      \r\n      const response = await api.get(`/calendar/events?${params.toString()}`)\r\n      commit('SET_EVENTS', response.data)\r\n    } catch (error) {\r\n      commit('SET_ERROR', error.response?.data?.message || '이벤트를 불러오는데 실패했습니다.')\r\n      throw error\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  },\r\n\r\n  async createEvent({ commit }, eventData) {\r\n    try {\r\n      commit('SET_LOADING', true)\r\n      commit('SET_ERROR', null)\r\n      \r\n      const response = await api.post('/calendar/events', eventData)\r\n      commit('ADD_EVENT', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 생성에 실패했습니다.')\r\n      throw error\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  },\r\n\r\n  async updateEvent({ commit }, { eventId, eventData }) {\r\n    try {\r\n      commit('SET_LOADING', true)\r\n      commit('SET_ERROR', null)\r\n      \r\n      const response = await api.put(`/calendar/events/${eventId}`, eventData)\r\n      commit('UPDATE_EVENT', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 수정에 실패했습니다.')\r\n      throw error\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  },\r\n\r\n  async deleteEvent({ commit }, eventId) {\r\n    try {\r\n      commit('SET_LOADING', true)\r\n      commit('SET_ERROR', null)\r\n      \r\n      await api.delete(`/calendar/events/${eventId}`)\r\n      commit('REMOVE_EVENT', eventId)\r\n    } catch (error) {\r\n      commit('SET_ERROR', error.response?.data?.message || '이벤트 삭제에 실패했습니다.')\r\n      throw error\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  eventsByDate: (state) => (date) => {\r\n    return state.events.filter(event => event.eventDate === date)\r\n  },\r\n  hasEventsOnDate: (state) => (date) => {\r\n    return state.events.some(event => event.eventDate === date)\r\n  },\r\n  eventsInRange: (state) => (startDate, endDate) => {\r\n    return state.events.filter(event => {\r\n      const eventDate = new Date(event.eventDate)\r\n      return eventDate >= new Date(startDate) && eventDate <= new Date(endDate)\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}