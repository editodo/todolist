{"ast":null,"code":"import { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { Plus, Bell, Paperclip } from '@element-plus/icons-vue';\nimport dayjs from 'dayjs';\nexport default {\n  name: 'NoticeList',\n  components: {\n    Plus,\n    Bell,\n    Paperclip\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const notices = computed(() => store.getters['notice/notices']);\n    const noticeNotices = computed(() => store.getters['notice/noticeNotices']);\n    const regularNotices = computed(() => store.getters['notice/regularNotices']);\n    const loading = computed(() => store.getters['notice/loading']);\n    const user = computed(() => store.state.auth.user);\n\n    // 작성 권한 확인\n    const canWrite = computed(() => {\n      return user.value && (user.value.isAdmin || user.value.hasNoticePermission);\n    });\n    const loadNotices = async () => {\n      try {\n        await store.dispatch('notice/fetchNotices');\n      } catch (error) {\n        ElMessage.error('공지사항을 불러오는데 실패했습니다.');\n      }\n    };\n    const goToDetail = noticeId => {\n      router.push(`/notices/${noticeId}`);\n    };\n    const goToWrite = () => {\n      router.push('/notices/write');\n    };\n    const formatDate = date => {\n      return dayjs(date).format('YYYY.MM.DD');\n    };\n    onMounted(() => {\n      loadNotices();\n    });\n    return {\n      notices,\n      noticeNotices,\n      regularNotices,\n      loading,\n      canWrite,\n      goToDetail,\n      goToWrite,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","useStore","useRouter","ElMessage","Plus","Bell","Paperclip","dayjs","name","components","setup","store","router","notices","getters","noticeNotices","regularNotices","loading","user","state","auth","canWrite","value","isAdmin","hasNoticePermission","loadNotices","dispatch","error","goToDetail","noticeId","push","goToWrite","formatDate","date","format"],"sources":["D:\\03.기타\\todolist\\frontend\\src\\views\\NoticeList.vue"],"sourcesContent":["<template>\r\n  <div class=\"notice-list\">\r\n    <div class=\"header\">\r\n      <h1>공지사항</h1>\r\n      <el-button \r\n        v-if=\"canWrite\" \r\n        type=\"primary\" \r\n        @click=\"goToWrite\"\r\n        :icon=\"Plus\"\r\n      >\r\n        글쓰기\r\n      </el-button>\r\n    </div>\r\n\r\n    <div class=\"notice-container\">\r\n      <!-- 공지사항 섹션 -->\r\n      <div v-if=\"noticeNotices.length > 0\" class=\"notice-section\">\r\n        <h2 class=\"section-title\">\r\n          <el-icon><Bell /></el-icon>\r\n          공지사항\r\n        </h2>\r\n        <div class=\"notice-items\">\r\n          <div \r\n            v-for=\"notice in noticeNotices\" \r\n            :key=\"notice.noticeId\" \r\n            class=\"notice-item notice\"\r\n            @click=\"goToDetail(notice.noticeId)\"\r\n          >\r\n            <div class=\"notice-header\">\r\n              <span class=\"notice-badge\">공지</span>\r\n              <h3 class=\"notice-title\">{{ notice.title }}</h3>\r\n            </div>\r\n            <div class=\"notice-meta\">\r\n              <span class=\"author\">{{ notice.user.nickname || notice.user.username }}</span>\r\n              <span class=\"date\">{{ formatDate(notice.createdAt) }}</span>\r\n              <span class=\"views\">조회 {{ notice.viewCount }}</span>\r\n              <span v-if=\"notice.attachmentCount > 0\" class=\"attachments\">\r\n                <el-icon><Paperclip /></el-icon>\r\n                {{ notice.attachmentCount }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 일반 게시글 섹션 -->\r\n      <div class=\"regular-section\">\r\n        <h2 class=\"section-title\">일반 게시글</h2>\r\n        <div class=\"notice-items\">\r\n          <div \r\n            v-for=\"notice in regularNotices\" \r\n            :key=\"notice.noticeId\" \r\n            class=\"notice-item\"\r\n            @click=\"goToDetail(notice.noticeId)\"\r\n          >\r\n            <div class=\"notice-header\">\r\n              <h3 class=\"notice-title\">{{ notice.title }}</h3>\r\n            </div>\r\n            <div class=\"notice-meta\">\r\n              <span class=\"author\">{{ notice.user.nickname || notice.user.username }}</span>\r\n              <span class=\"date\">{{ formatDate(notice.createdAt) }}</span>\r\n              <span class=\"views\">조회 {{ notice.viewCount }}</span>\r\n              <span v-if=\"notice.attachmentCount > 0\" class=\"attachments\">\r\n                <el-icon><Paperclip /></el-icon>\r\n                {{ notice.attachmentCount }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 로딩 상태 -->\r\n      <div v-if=\"loading\" class=\"loading\">\r\n        <el-skeleton :rows=\"5\" animated />\r\n      </div>\r\n\r\n      <!-- 빈 상태 -->\r\n      <div v-if=\"!loading && notices.length === 0\" class=\"empty-state\">\r\n        <el-empty description=\"등록된 게시글이 없습니다.\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Plus, Bell, Paperclip } from '@element-plus/icons-vue'\r\nimport dayjs from 'dayjs'\r\n\r\nexport default {\r\n  name: 'NoticeList',\r\n  components: {\r\n    Plus,\r\n    Bell,\r\n    Paperclip\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n\r\n    const notices = computed(() => store.getters['notice/notices'])\r\n    const noticeNotices = computed(() => store.getters['notice/noticeNotices'])\r\n    const regularNotices = computed(() => store.getters['notice/regularNotices'])\r\n    const loading = computed(() => store.getters['notice/loading'])\r\n    const user = computed(() => store.state.auth.user)\r\n\r\n    // 작성 권한 확인\r\n    const canWrite = computed(() => {\r\n      return user.value && (user.value.isAdmin || user.value.hasNoticePermission)\r\n    })\r\n\r\n    const loadNotices = async () => {\r\n      try {\r\n        await store.dispatch('notice/fetchNotices')\r\n      } catch (error) {\r\n        ElMessage.error('공지사항을 불러오는데 실패했습니다.')\r\n      }\r\n    }\r\n\r\n    const goToDetail = (noticeId) => {\r\n      router.push(`/notices/${noticeId}`)\r\n    }\r\n\r\n    const goToWrite = () => {\r\n      router.push('/notices/write')\r\n    }\r\n\r\n    const formatDate = (date) => {\r\n      return dayjs(date).format('YYYY.MM.DD')\r\n    }\r\n\r\n    onMounted(() => {\r\n      loadNotices()\r\n    })\r\n\r\n    return {\r\n      notices,\r\n      noticeNotices,\r\n      regularNotices,\r\n      loading,\r\n      canWrite,\r\n      goToDetail,\r\n      goToWrite,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.notice-list {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.header h1 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.notice-container {\r\n  background: var(--el-bg-color);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.section-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  margin-bottom: 15px;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.notice-section {\r\n  margin-bottom: 30px;\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid var(--el-border-color-lighter);\r\n}\r\n\r\n.notice-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.notice-item {\r\n  padding: 15px;\r\n  border: 1px solid var(--el-border-color-lighter);\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.notice-item:hover {\r\n  border-color: var(--el-color-primary);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.notice-item.notice {\r\n  background: linear-gradient(135deg, var(--el-color-primary-light-9), var(--el-color-primary-light-8));\r\n  border-color: var(--el-color-primary-light-6);\r\n}\r\n\r\n.notice-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.notice-badge {\r\n  background: var(--el-color-danger);\r\n  color: white;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.notice-title {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: var(--el-text-color-primary);\r\n  flex: 1;\r\n}\r\n\r\n.notice-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  font-size: 0.9rem;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.author {\r\n  font-weight: 500;\r\n}\r\n\r\n.attachments {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.loading {\r\n  padding: 20px;\r\n}\r\n\r\n.empty-state {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .notice-list {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .header {\r\n    flex-direction: column;\r\n    gap: 15px;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .header h1 {\r\n    font-size: 1.5rem;\r\n    text-align: center;\r\n  }\r\n  \r\n  .notice-meta {\r\n    flex-wrap: wrap;\r\n    gap: 10px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAqFA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACxC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,SAAQ,QAAS,cAAa;AACvC,SAASC,IAAI,EAAEC,IAAI,EAAEC,SAAQ,QAAS,yBAAwB;AAC9D,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVL,IAAI;IACJC,IAAI;IACJC;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIV,QAAQ,CAAC;IACvB,MAAMW,MAAK,GAAIV,SAAS,CAAC;IAEzB,MAAMW,OAAM,GAAId,QAAQ,CAAC,MAAMY,KAAK,CAACG,OAAO,CAAC,gBAAgB,CAAC;IAC9D,MAAMC,aAAY,GAAIhB,QAAQ,CAAC,MAAMY,KAAK,CAACG,OAAO,CAAC,sBAAsB,CAAC;IAC1E,MAAME,cAAa,GAAIjB,QAAQ,CAAC,MAAMY,KAAK,CAACG,OAAO,CAAC,uBAAuB,CAAC;IAC5E,MAAMG,OAAM,GAAIlB,QAAQ,CAAC,MAAMY,KAAK,CAACG,OAAO,CAAC,gBAAgB,CAAC;IAC9D,MAAMI,IAAG,GAAInB,QAAQ,CAAC,MAAMY,KAAK,CAACQ,KAAK,CAACC,IAAI,CAACF,IAAI;;IAEjD;IACA,MAAMG,QAAO,GAAItB,QAAQ,CAAC,MAAM;MAC9B,OAAOmB,IAAI,CAACI,KAAI,KAAMJ,IAAI,CAACI,KAAK,CAACC,OAAM,IAAKL,IAAI,CAACI,KAAK,CAACE,mBAAmB;IAC5E,CAAC;IAED,MAAMC,WAAU,GAAI,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMd,KAAK,CAACe,QAAQ,CAAC,qBAAqB;MAC5C,EAAE,OAAOC,KAAK,EAAE;QACdxB,SAAS,CAACwB,KAAK,CAAC,qBAAqB;MACvC;IACF;IAEA,MAAMC,UAAS,GAAKC,QAAQ,IAAK;MAC/BjB,MAAM,CAACkB,IAAI,CAAC,YAAYD,QAAQ,EAAE;IACpC;IAEA,MAAME,SAAQ,GAAIA,CAAA,KAAM;MACtBnB,MAAM,CAACkB,IAAI,CAAC,gBAAgB;IAC9B;IAEA,MAAME,UAAS,GAAKC,IAAI,IAAK;MAC3B,OAAO1B,KAAK,CAAC0B,IAAI,CAAC,CAACC,MAAM,CAAC,YAAY;IACxC;IAEAlC,SAAS,CAAC,MAAM;MACdyB,WAAW,CAAC;IACd,CAAC;IAED,OAAO;MACLZ,OAAO;MACPE,aAAa;MACbC,cAAc;MACdC,OAAO;MACPI,QAAQ;MACRO,UAAU;MACVG,SAAS;MACTC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}