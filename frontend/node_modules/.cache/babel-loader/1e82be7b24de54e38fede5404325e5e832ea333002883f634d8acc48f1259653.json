{"ast":null,"code":"import { ref, reactive, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { Upload, Delete, Paperclip } from '@element-plus/icons-vue';\nimport { QuillEditor } from '@vueup/vue-quill';\nimport '@vueup/vue-quill/dist/vue-quill.snow.css';\nexport default {\n  name: 'NoticeEdit',\n  components: {\n    QuillEditor,\n    Upload,\n    Delete,\n    Paperclip\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    const noticeFormRef = ref();\n    const uploadRef = ref();\n    const loading = ref(false);\n    const fileList = ref([]);\n    const uploadedFiles = ref([]);\n    const currentNotice = computed(() => store.getters['notice/currentNotice']);\n    const user = computed(() => store.state.auth.user);\n    const noticeForm = reactive({\n      title: '',\n      content: '',\n      isNotice: false,\n      attachments: []\n    });\n    const rules = {\n      title: [{\n        required: true,\n        message: '제목을 입력해주세요',\n        trigger: 'blur'\n      }, {\n        min: 2,\n        max: 200,\n        message: '제목은 2-200자 사이여야 합니다',\n        trigger: 'blur'\n      }],\n      content: [{\n        required: true,\n        message: '내용을 입력해주세요',\n        trigger: 'blur'\n      }]\n    };\n    const editorOptions = {\n      modules: {\n        toolbar: [['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'], [{\n          'header': 1\n        }, {\n          'header': 2\n        }], [{\n          'list': 'ordered'\n        }, {\n          'list': 'bullet'\n        }], [{\n          'script': 'sub'\n        }, {\n          'script': 'super'\n        }], [{\n          'indent': '-1'\n        }, {\n          'indent': '+1'\n        }], [{\n          'direction': 'rtl'\n        }], [{\n          'size': ['small', false, 'large', 'huge']\n        }], [{\n          'header': [1, 2, 3, 4, 5, 6, false]\n        }], [{\n          'color': []\n        }, {\n          'background': []\n        }], [{\n          'font': []\n        }], [{\n          'align': []\n        }], ['clean'], ['link', 'image']]\n      },\n      placeholder: '내용을 입력하세요...'\n    };\n\n    // 편집 권한 확인\n    const canEdit = computed(() => {\n      if (!currentNotice.value || !user.value) return false;\n      return user.value.isAdmin || currentNotice.value.user.userId === user.value.userId;\n    });\n    const loadNoticeDetail = async () => {\n      try {\n        await store.dispatch('notice/fetchNoticeDetail', route.params.id);\n      } catch (error) {\n        ElMessage.error('공지사항을 불러오는데 실패했습니다.');\n        router.push('/notices');\n      }\n    };\n    const initializeForm = () => {\n      if (currentNotice.value) {\n        noticeForm.title = currentNotice.value.title;\n        noticeForm.content = currentNotice.value.content;\n        noticeForm.isNotice = currentNotice.value.isNotice;\n        noticeForm.attachments = [...(currentNotice.value.attachments || [])];\n      }\n    };\n    const onEditorReady = quill => {\n      console.log('Editor is ready!', quill);\n    };\n    const handleFileChange = file => {\n      console.log('File changed:', file);\n    };\n    const handleFileRemove = file => {\n      console.log('File removed:', file);\n      const index = uploadedFiles.value.findIndex(f => f.originalFilename === file.name);\n      if (index > -1) {\n        uploadedFiles.value.splice(index, 1);\n      }\n    };\n    const removeExistingAttachment = attachment => {\n      const index = noticeForm.attachments.findIndex(a => a.attachmentId === attachment.attachmentId);\n      if (index > -1) {\n        noticeForm.attachments.splice(index, 1);\n      }\n    };\n    const uploadFiles = async () => {\n      const files = fileList.value.map(item => item.raw).filter(Boolean);\n      const uploaded = [];\n      for (const file of files) {\n        try {\n          const result = await store.dispatch('notice/uploadFile', file);\n          uploaded.push(result);\n        } catch (error) {\n          ElMessage.error(`파일 업로드 실패: ${file.name}`);\n          throw error;\n        }\n      }\n      return uploaded;\n    };\n    const updateNotice = async () => {\n      if (!canEdit.value) {\n        ElMessage.error('수정 권한이 없습니다.');\n        return;\n      }\n      try {\n        await noticeFormRef.value.validate();\n        loading.value = true;\n\n        // 새 파일 업로드\n        const newAttachments = await uploadFiles();\n\n        // 기존 첨부파일과 새 첨부파일 합치기\n        const allAttachments = [...noticeForm.attachments, ...newAttachments];\n        noticeForm.attachments = allAttachments;\n\n        // 공지사항 수정\n        await store.dispatch('notice/updateNotice', {\n          noticeId: route.params.id,\n          noticeData: noticeForm\n        });\n        ElMessage.success('공지사항이 수정되었습니다.');\n        router.push(`/notices/${route.params.id}`);\n      } catch (error) {\n        console.error('공지사항 수정 실패:', error);\n        ElMessage.error('공지사항 수정에 실패했습니다.');\n      } finally {\n        loading.value = false;\n      }\n    };\n    const goBack = () => {\n      router.back();\n    };\n    const formatFileSize = bytes => {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    };\n    onMounted(async () => {\n      await loadNoticeDetail();\n      if (currentNotice.value) {\n        initializeForm();\n      }\n    });\n    return {\n      noticeFormRef,\n      uploadRef,\n      loading,\n      fileList,\n      currentNotice,\n      noticeForm,\n      rules,\n      editorOptions,\n      canEdit,\n      onEditorReady,\n      handleFileChange,\n      handleFileRemove,\n      removeExistingAttachment,\n      updateNotice,\n      goBack,\n      formatFileSize,\n      Upload,\n      Delete\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","useStore","useRouter","useRoute","ElMessage","Upload","Delete","Paperclip","QuillEditor","name","components","setup","store","router","route","noticeFormRef","uploadRef","loading","fileList","uploadedFiles","currentNotice","getters","user","state","auth","noticeForm","title","content","isNotice","attachments","rules","required","message","trigger","min","max","editorOptions","modules","toolbar","placeholder","canEdit","value","isAdmin","userId","loadNoticeDetail","dispatch","params","id","error","push","initializeForm","onEditorReady","quill","console","log","handleFileChange","file","handleFileRemove","index","findIndex","f","originalFilename","splice","removeExistingAttachment","attachment","a","attachmentId","uploadFiles","files","map","item","raw","filter","Boolean","uploaded","result","updateNotice","validate","newAttachments","allAttachments","noticeId","noticeData","success","goBack","back","formatFileSize","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed"],"sources":["D:\\03.기타\\todolist\\frontend\\src\\views\\NoticeEdit.vue"],"sourcesContent":["<template>\r\n  <div class=\"notice-edit\">\r\n    <div class=\"header\">\r\n      <h1>공지사항 수정</h1>\r\n    </div>\r\n\r\n    <div class=\"edit-container\" v-if=\"currentNotice\">\r\n      <el-form :model=\"noticeForm\" :rules=\"rules\" ref=\"noticeFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"제목\" prop=\"title\">\r\n          <el-input v-model=\"noticeForm.title\" placeholder=\"제목을 입력하세요\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"공지사항\" prop=\"isNotice\">\r\n          <el-checkbox v-model=\"noticeForm.isNotice\">\r\n            공지사항으로 등록\r\n          </el-checkbox>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"내용\" prop=\"content\">\r\n          <div class=\"editor-container\">\r\n            <QuillEditor\r\n              v-model:content=\"noticeForm.content\"\r\n              contentType=\"html\"\r\n              theme=\"snow\"\r\n              :options=\"editorOptions\"\r\n              @ready=\"onEditorReady\"\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"첨부파일\">\r\n          <div class=\"file-upload\">\r\n            <!-- 기존 첨부파일 -->\r\n            <div v-if=\"currentNotice.attachments && currentNotice.attachments.length > 0\" class=\"existing-attachments\">\r\n              <h4>기존 첨부파일</h4>\r\n              <div class=\"attachment-list\">\r\n                <div \r\n                  v-for=\"attachment in currentNotice.attachments\" \r\n                  :key=\"attachment.attachmentId\"\r\n                  class=\"attachment-item\"\r\n                >\r\n                  <el-icon><Paperclip /></el-icon>\r\n                  <span class=\"filename\">{{ attachment.originalFilename }}</span>\r\n                  <span class=\"filesize\">{{ formatFileSize(attachment.fileSize) }}</span>\r\n                  <el-button \r\n                    type=\"danger\" \r\n                    size=\"small\" \r\n                    @click=\"removeExistingAttachment(attachment)\"\r\n                    :icon=\"Delete\"\r\n                  >\r\n                    삭제\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 새 첨부파일 업로드 -->\r\n            <div class=\"new-attachments\">\r\n              <h4>새 첨부파일 추가</h4>\r\n              <el-upload\r\n                ref=\"uploadRef\"\r\n                :auto-upload=\"false\"\r\n                :on-change=\"handleFileChange\"\r\n                :on-remove=\"handleFileRemove\"\r\n                :file-list=\"fileList\"\r\n                multiple\r\n                :limit=\"5\"\r\n              >\r\n                <el-button type=\"primary\" :icon=\"Upload\">\r\n                  파일 선택\r\n                </el-button>\r\n                <template #tip>\r\n                  <div class=\"el-upload__tip\">\r\n                    최대 5개 파일, 각 파일 10MB 이하\r\n                  </div>\r\n                </template>\r\n              </el-upload>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"updateNotice\" :loading=\"loading\">\r\n            수정\r\n          </el-button>\r\n          <el-button @click=\"goBack\">취소</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 로딩 상태 -->\r\n    <div v-if=\"loading && !currentNotice\" class=\"loading\">\r\n      <el-skeleton :rows=\"10\" animated />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Upload, Delete, Paperclip } from '@element-plus/icons-vue'\r\nimport { QuillEditor } from '@vueup/vue-quill'\r\nimport '@vueup/vue-quill/dist/vue-quill.snow.css'\r\n\r\nexport default {\r\n  name: 'NoticeEdit',\r\n  components: {\r\n    QuillEditor,\r\n    Upload,\r\n    Delete,\r\n    Paperclip\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const noticeFormRef = ref()\r\n    const uploadRef = ref()\r\n    const loading = ref(false)\r\n    const fileList = ref([])\r\n    const uploadedFiles = ref([])\r\n\r\n    const currentNotice = computed(() => store.getters['notice/currentNotice'])\r\n    const user = computed(() => store.state.auth.user)\r\n\r\n    const noticeForm = reactive({\r\n      title: '',\r\n      content: '',\r\n      isNotice: false,\r\n      attachments: []\r\n    })\r\n\r\n    const rules = {\r\n      title: [\r\n        { required: true, message: '제목을 입력해주세요', trigger: 'blur' },\r\n        { min: 2, max: 200, message: '제목은 2-200자 사이여야 합니다', trigger: 'blur' }\r\n      ],\r\n      content: [\r\n        { required: true, message: '내용을 입력해주세요', trigger: 'blur' }\r\n      ]\r\n    }\r\n\r\n    const editorOptions = {\r\n      modules: {\r\n        toolbar: [\r\n          ['bold', 'italic', 'underline', 'strike'],\r\n          ['blockquote', 'code-block'],\r\n          [{ 'header': 1 }, { 'header': 2 }],\r\n          [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n          [{ 'script': 'sub'}, { 'script': 'super' }],\r\n          [{ 'indent': '-1'}, { 'indent': '+1' }],\r\n          [{ 'direction': 'rtl' }],\r\n          [{ 'size': ['small', false, 'large', 'huge'] }],\r\n          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n          [{ 'color': [] }, { 'background': [] }],\r\n          [{ 'font': [] }],\r\n          [{ 'align': [] }],\r\n          ['clean'],\r\n          ['link', 'image']\r\n        ]\r\n      },\r\n      placeholder: '내용을 입력하세요...'\r\n    }\r\n\r\n    // 편집 권한 확인\r\n    const canEdit = computed(() => {\r\n      if (!currentNotice.value || !user.value) return false\r\n      return user.value.isAdmin || currentNotice.value.user.userId === user.value.userId\r\n    })\r\n\r\n    const loadNoticeDetail = async () => {\r\n      try {\r\n        await store.dispatch('notice/fetchNoticeDetail', route.params.id)\r\n      } catch (error) {\r\n        ElMessage.error('공지사항을 불러오는데 실패했습니다.')\r\n        router.push('/notices')\r\n      }\r\n    }\r\n\r\n    const initializeForm = () => {\r\n      if (currentNotice.value) {\r\n        noticeForm.title = currentNotice.value.title\r\n        noticeForm.content = currentNotice.value.content\r\n        noticeForm.isNotice = currentNotice.value.isNotice\r\n        noticeForm.attachments = [...(currentNotice.value.attachments || [])]\r\n      }\r\n    }\r\n\r\n    const onEditorReady = (quill) => {\r\n      console.log('Editor is ready!', quill)\r\n    }\r\n\r\n    const handleFileChange = (file) => {\r\n      console.log('File changed:', file)\r\n    }\r\n\r\n    const handleFileRemove = (file) => {\r\n      console.log('File removed:', file)\r\n      const index = uploadedFiles.value.findIndex(f => f.originalFilename === file.name)\r\n      if (index > -1) {\r\n        uploadedFiles.value.splice(index, 1)\r\n      }\r\n    }\r\n\r\n    const removeExistingAttachment = (attachment) => {\r\n      const index = noticeForm.attachments.findIndex(a => a.attachmentId === attachment.attachmentId)\r\n      if (index > -1) {\r\n        noticeForm.attachments.splice(index, 1)\r\n      }\r\n    }\r\n\r\n    const uploadFiles = async () => {\r\n      const files = fileList.value.map(item => item.raw).filter(Boolean)\r\n      const uploaded = []\r\n\r\n      for (const file of files) {\r\n        try {\r\n          const result = await store.dispatch('notice/uploadFile', file)\r\n          uploaded.push(result)\r\n        } catch (error) {\r\n          ElMessage.error(`파일 업로드 실패: ${file.name}`)\r\n          throw error\r\n        }\r\n      }\r\n\r\n      return uploaded\r\n    }\r\n\r\n    const updateNotice = async () => {\r\n      if (!canEdit.value) {\r\n        ElMessage.error('수정 권한이 없습니다.')\r\n        return\r\n      }\r\n\r\n      try {\r\n        await noticeFormRef.value.validate()\r\n        \r\n        loading.value = true\r\n\r\n        // 새 파일 업로드\r\n        const newAttachments = await uploadFiles()\r\n        \r\n        // 기존 첨부파일과 새 첨부파일 합치기\r\n        const allAttachments = [...noticeForm.attachments, ...newAttachments]\r\n        noticeForm.attachments = allAttachments\r\n\r\n        // 공지사항 수정\r\n        await store.dispatch('notice/updateNotice', {\r\n          noticeId: route.params.id,\r\n          noticeData: noticeForm\r\n        })\r\n        \r\n        ElMessage.success('공지사항이 수정되었습니다.')\r\n        router.push(`/notices/${route.params.id}`)\r\n      } catch (error) {\r\n        console.error('공지사항 수정 실패:', error)\r\n        ElMessage.error('공지사항 수정에 실패했습니다.')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    const goBack = () => {\r\n      router.back()\r\n    }\r\n\r\n    const formatFileSize = (bytes) => {\r\n      if (bytes === 0) return '0 Bytes'\r\n      const k = 1024\r\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\r\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\r\n    }\r\n\r\n    onMounted(async () => {\r\n      await loadNoticeDetail()\r\n      if (currentNotice.value) {\r\n        initializeForm()\r\n      }\r\n    })\r\n\r\n    return {\r\n      noticeFormRef,\r\n      uploadRef,\r\n      loading,\r\n      fileList,\r\n      currentNotice,\r\n      noticeForm,\r\n      rules,\r\n      editorOptions,\r\n      canEdit,\r\n      onEditorReady,\r\n      handleFileChange,\r\n      handleFileRemove,\r\n      removeExistingAttachment,\r\n      updateNotice,\r\n      goBack,\r\n      formatFileSize,\r\n      Upload,\r\n      Delete\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.notice-edit {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.header h1 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.edit-container {\r\n  background: var(--el-bg-color);\r\n  border-radius: 8px;\r\n  padding: 30px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.editor-container {\r\n  border: 1px solid var(--el-border-color);\r\n  border-radius: 4px;\r\n}\r\n\r\n.editor-container :deep(.ql-editor) {\r\n  min-height: 300px;\r\n}\r\n\r\n.file-upload {\r\n  width: 100%;\r\n}\r\n\r\n.existing-attachments {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.existing-attachments h4 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.attachment-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.attachment-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--el-border-color-lighter);\r\n  border-radius: 4px;\r\n  background: var(--el-fill-color-light);\r\n}\r\n\r\n.filename {\r\n  flex: 1;\r\n  font-weight: 500;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.filesize {\r\n  font-size: 0.9rem;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.new-attachments h4 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.el-upload__tip {\r\n  color: var(--el-text-color-secondary);\r\n  font-size: 0.9rem;\r\n  margin-top: 8px;\r\n}\r\n\r\n.loading {\r\n  padding: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .notice-edit {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .edit-container {\r\n    padding: 20px;\r\n  }\r\n  \r\n  .header h1 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  .attachment-item {\r\n    flex-wrap: wrap;\r\n    gap: 8px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}