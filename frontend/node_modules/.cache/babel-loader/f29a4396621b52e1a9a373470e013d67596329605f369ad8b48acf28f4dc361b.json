{"ast":null,"code":"import { ref, reactive, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Login',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const loading = ref(false);\n    const saveId = ref(false);\n    const loginForm = reactive({\n      username: '',\n      password: ''\n    });\n    const errors = reactive({\n      username: '',\n      password: ''\n    });\n\n    // 저장된 아이디 불러오기\n    onMounted(() => {\n      const savedUsername = localStorage.getItem('savedUsername');\n      if (savedUsername) {\n        loginForm.username = savedUsername;\n        saveId.value = true;\n      }\n\n      // 테마 적용\n      applyTheme();\n    });\n    const applyTheme = () => {\n      const editodoWrap = document.querySelector('.editodo_wrap');\n      if (editodoWrap) {\n        const theme = sessionStorage.getItem('theme') || 'style_simple';\n        const color = sessionStorage.getItem('color') || 'palette_simple';\n        const mode = sessionStorage.getItem('mode') || 'lightmode';\n        editodoWrap.className = `editodo_wrap editodo_login ${mode} ${theme} ${color}`;\n      }\n    };\n    const validateForm = () => {\n      let isValid = true;\n      errors.username = '';\n      errors.password = '';\n      if (!loginForm.username.trim()) {\n        errors.username = '아이디를 입력해주세요.';\n        isValid = false;\n      }\n      if (!loginForm.password.trim()) {\n        errors.password = '비밀번호를 입력해주세요.';\n        isValid = false;\n      }\n      return isValid;\n    };\n    const handleLogin = async () => {\n      if (!validateForm()) {\n        return;\n      }\n      try {\n        loading.value = true;\n\n        // 아이디 저장 처리\n        if (saveId.value) {\n          localStorage.setItem('savedUsername', loginForm.username);\n        } else {\n          localStorage.removeItem('savedUsername');\n        }\n\n        // 로그인 처리\n        await store.dispatch('auth/login', {\n          email: loginForm.username,\n          password: loginForm.password\n        });\n\n        // 성공 메시지 (간단한 알림)\n        showMessage('로그인되었습니다!', 'success');\n        router.push('/todos');\n      } catch (error) {\n        console.error('Login error:', error);\n        showMessage('아이디 또는 비밀번호가 올바르지 않습니다.', 'error');\n      } finally {\n        loading.value = false;\n      }\n    };\n    const showMessage = (message, type) => {\n      // 간단한 메시지 표시 (Element Plus 대신 커스텀)\n      const messageDiv = document.createElement('div');\n      messageDiv.className = `message ${type}`;\n      messageDiv.textContent = message;\n      messageDiv.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        padding: 12px 20px;\n        border-radius: 4px;\n        color: white;\n        font-size: 14px;\n        z-index: 9999;\n        ${type === 'success' ? 'background-color: #67c23a;' : 'background-color: #f56c6c;'}\n      `;\n      document.body.appendChild(messageDiv);\n      setTimeout(() => {\n        if (messageDiv.parentNode) {\n          messageDiv.parentNode.removeChild(messageDiv);\n        }\n      }, 3000);\n    };\n    const goToFindIdPw = () => {\n      // 아이디/비밀번호 찾기 페이지로 이동\n      router.push('/find-id');\n    };\n    return {\n      loginForm,\n      errors,\n      loading,\n      saveId,\n      handleLogin,\n      goToFindIdPw\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","useStore","useRouter","name","setup","store","router","loading","saveId","loginForm","username","password","errors","savedUsername","localStorage","getItem","value","applyTheme","editodoWrap","document","querySelector","theme","sessionStorage","color","mode","className","validateForm","isValid","trim","handleLogin","setItem","removeItem","dispatch","email","showMessage","push","error","console","message","type","messageDiv","createElement","textContent","style","cssText","body","appendChild","setTimeout","parentNode","removeChild","goToFindIdPw"],"sources":["D:\\03.기타\\todolist\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div id=\"wrap\" class=\"editodo_wrap editodo_login\">\r\n    <main id=\"main\">\r\n      <div class=\"container\">\r\n        <div class=\"editodo_inner side_pd\">\r\n          <div class=\"form_wrap\">\r\n            <form @submit.prevent=\"handleLogin\">\r\n              <dl class=\"form_dl\">\r\n                <dt><label for=\"user_Id\" class=\"visuallyhidden\">아이디</label></dt>\r\n                <dd>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"user_Id\" \r\n                    class=\"form_input\" \r\n                    placeholder=\"아이디\"\r\n                    v-model=\"loginForm.username\"\r\n                    :class=\"{ 'field_chk': errors.username }\"\r\n                  >\r\n                  <div class=\"field_not\" v-if=\"errors.username\">{{ errors.username }}</div>\r\n                </dd>\r\n              </dl>\r\n              <dl class=\"form_dl\">\r\n                <dt><label for=\"user_Pw\" class=\"visuallyhidden\">비밀번호</label></dt>\r\n                <dd>\r\n                  <input \r\n                    type=\"password\" \r\n                    id=\"user_Pw\" \r\n                    class=\"form_input\" \r\n                    placeholder=\"비밀번호\"\r\n                    v-model=\"loginForm.password\"\r\n                    :class=\"{ 'field_chk': errors.password }\"\r\n                  >\r\n                  <div class=\"field_not\" v-if=\"errors.password\">{{ errors.password }}</div>\r\n                </dd>\r\n              </dl>\r\n\r\n              <div class=\"login_util\">\r\n                <div class=\"save_id checkbox\">\r\n                  <label for=\"saveID\">\r\n                    <input type=\"checkbox\" id=\"saveID\" v-model=\"saveId\">\r\n                    <span class=\"on\"></span>\r\n                    아이디 저장 \r\n                  </label>\r\n                </div>\r\n                <a href=\"#\" class=\"find_idpw\" @click=\"goToFindIdPw\">아이디/비밀번호 찾기</a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div class=\"bottom_btn_group\">\r\n            <button \r\n              type=\"button\" \r\n              class=\"btn btn_main full\"\r\n              @click=\"handleLogin\"\r\n              :disabled=\"loading\"\r\n            >\r\n              {{ loading ? '로그인 중...' : '로그인' }}\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              class=\"btn btn_sub full\" \r\n              @click=\"$router.push('/signup')\"\r\n            >\r\n              회원가입\r\n            </button>\r\n          </div>\r\n          <div class=\"sns_group\" style=\"display: none;\">\r\n            sns 추가\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    const saveId = ref(false)\r\n    \r\n    const loginForm = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n    \r\n    const errors = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n    \r\n    // 저장된 아이디 불러오기\r\n    onMounted(() => {\r\n      const savedUsername = localStorage.getItem('savedUsername')\r\n      if (savedUsername) {\r\n        loginForm.username = savedUsername\r\n        saveId.value = true\r\n      }\r\n      \r\n      // 테마 적용\r\n      applyTheme()\r\n    })\r\n    \r\n    const applyTheme = () => {\r\n      const editodoWrap = document.querySelector('.editodo_wrap')\r\n      if (editodoWrap) {\r\n        const theme = sessionStorage.getItem('theme') || 'style_simple'\r\n        const color = sessionStorage.getItem('color') || 'palette_simple'\r\n        const mode = sessionStorage.getItem('mode') || 'lightmode'\r\n        \r\n        editodoWrap.className = `editodo_wrap editodo_login ${mode} ${theme} ${color}`\r\n      }\r\n    }\r\n    \r\n    const validateForm = () => {\r\n      let isValid = true\r\n      errors.username = ''\r\n      errors.password = ''\r\n      \r\n      if (!loginForm.username.trim()) {\r\n        errors.username = '아이디를 입력해주세요.'\r\n        isValid = false\r\n      }\r\n      \r\n      if (!loginForm.password.trim()) {\r\n        errors.password = '비밀번호를 입력해주세요.'\r\n        isValid = false\r\n      }\r\n      \r\n      return isValid\r\n    }\r\n    \r\n    const handleLogin = async () => {\r\n      if (!validateForm()) {\r\n        return\r\n      }\r\n      \r\n      try {\r\n        loading.value = true\r\n        \r\n        // 아이디 저장 처리\r\n        if (saveId.value) {\r\n          localStorage.setItem('savedUsername', loginForm.username)\r\n        } else {\r\n          localStorage.removeItem('savedUsername')\r\n        }\r\n        \r\n        // 로그인 처리\r\n        await store.dispatch('auth/login', {\r\n          email: loginForm.username,\r\n          password: loginForm.password\r\n        })\r\n        \r\n        // 성공 메시지 (간단한 알림)\r\n        showMessage('로그인되었습니다!', 'success')\r\n        router.push('/todos')\r\n        \r\n      } catch (error) {\r\n        console.error('Login error:', error)\r\n        showMessage('아이디 또는 비밀번호가 올바르지 않습니다.', 'error')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    const showMessage = (message, type) => {\r\n      // 간단한 메시지 표시 (Element Plus 대신 커스텀)\r\n      const messageDiv = document.createElement('div')\r\n      messageDiv.className = `message ${type}`\r\n      messageDiv.textContent = message\r\n      messageDiv.style.cssText = `\r\n        position: fixed;\r\n        top: 20px;\r\n        right: 20px;\r\n        padding: 12px 20px;\r\n        border-radius: 4px;\r\n        color: white;\r\n        font-size: 14px;\r\n        z-index: 9999;\r\n        ${type === 'success' ? 'background-color: #67c23a;' : 'background-color: #f56c6c;'}\r\n      `\r\n      \r\n      document.body.appendChild(messageDiv)\r\n      \r\n      setTimeout(() => {\r\n        if (messageDiv.parentNode) {\r\n          messageDiv.parentNode.removeChild(messageDiv)\r\n        }\r\n      }, 3000)\r\n    }\r\n    \r\n    const goToFindIdPw = () => {\r\n      // 아이디/비밀번호 찾기 페이지로 이동\r\n      router.push('/find-id')\r\n    }\r\n    \r\n    return {\r\n      loginForm,\r\n      errors,\r\n      loading,\r\n      saveId,\r\n      handleLogin,\r\n      goToFindIdPw\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 기존 CSS 스타일 적용 */\r\n.editodo_login .form_wrap {\r\n  margin-top: 0; \r\n  padding-top: 40px; \r\n}\r\n\r\n.editodo_login .form_dl:first-child .form_input {\r\n  border-bottom-left-radius: 0; \r\n  border-bottom-right-radius: 0; \r\n}\r\n\r\n.editodo_login .form_dl:last-of-type .form_input {\r\n  border-top-left-radius: 0; \r\n  border-top-right-radius: 0; \r\n}\r\n\r\n.editodo_login .form_dl + .form_dl {\r\n  margin-top: -1px; \r\n}\r\n\r\n.editodo_login .login_util {\r\n  position: relative; \r\n  margin-top: 16px; \r\n}\r\n\r\n.editodo_login .login_util .find_idpw {\r\n  position: absolute; \r\n  top: 3px; \r\n  right: 0; \r\n  font-size: 12px; \r\n  color: var(--guide-text-color); \r\n  text-align: right; \r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.editodo_login .login_util .find_idpw:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Form 스타일 */\r\n.form_wrap {\r\n  margin-top: 20px;\r\n}\r\n\r\n.form_wrap .form_dl .form_label {\r\n  display: block; \r\n  margin-bottom: 5px; \r\n  color: var(--sub-text-color); \r\n  font-size: 12px; \r\n}\r\n\r\n.form_wrap .form_dl .form_input {\r\n  width: 100%; \r\n  height: 40px; \r\n  padding: 0 16px;  \r\n  box-sizing: border-box; \r\n  border-radius: 5px; \r\n  border: 1px solid var(--border-color); \r\n  background-color: var(--body-color); \r\n  font-size: 14px; \r\n  color: var(--text-color); \r\n  line-height: 38px; \r\n  outline: none; \r\n}\r\n\r\n.form_wrap .form_dl .field_not {\r\n  display: none;  \r\n  margin-top: 5px; \r\n  font-size: 12px; \r\n  color: #FF3030; \r\n  text-align: left; \r\n}\r\n\r\n.form_wrap .form_dl .form_input.field_chk {\r\n  border-color: #FF3030;\r\n}\r\n\r\n.form_wrap .form_dl .form_input.field_chk + .field_not {\r\n  display: block;\r\n}\r\n\r\n.form_wrap .form_dl + .form_dl {\r\n  margin-top: 16px; \r\n}\r\n\r\n/* Checkbox 스타일 */\r\n.checkbox {\r\n  position: relative; \r\n  display: block; \r\n  padding-left: 26px; \r\n  cursor: pointer;  \r\n  -webkit-user-select: none; \r\n  -moz-user-select: none; \r\n  -ms-user-select: none; \r\n  user-select: none; \r\n}\r\n\r\n.checkbox label {\r\n  font-size: 13px; \r\n  color: var(--calendar-colr); \r\n  font-weight: 500; \r\n}\r\n\r\n.checkbox input[type=\"checkbox\"] {\r\n  display: none; \r\n} \r\n\r\n.checkbox .on {\r\n  position: absolute; \r\n  top: 2px; \r\n  left: 0; \r\n  width: 18px; \r\n  height: 18px; \r\n  box-sizing: border-box; \r\n  border: 1px solid var(--fnb); \r\n  border-radius: 100%; \r\n  background: #fff;  \r\n}\r\n\r\n.checkbox .on:after {\r\n  content: ''; \r\n  position: absolute; \r\n  top: 4px; \r\n  left: 3px; \r\n  width: 8px; \r\n  height: 4px; \r\n  border: 1px solid var(--fnb); \r\n  border-top: 0; \r\n  border-right: 0; \r\n  transform: rotate(-45deg);\r\n}\r\n\r\n.checkbox input[type=\"checkbox\"]:checked + .on {\r\n  border-color: var(--main-color); \r\n  background: var(--main-color); \r\n}\r\n\r\n.checkbox input[type=\"checkbox\"]:checked + .on:after {\r\n  border-color: #fff; \r\n}\r\n\r\n/* Button 스타일 */\r\n.bottom_btn_group {\r\n  margin-top: 20px;\r\n}\r\n\r\n.bottom_btn_group .btn {\r\n  display: block; \r\n  height: 50px; \r\n  box-sizing: border-box; \r\n  border: 1px solid var(--main-color); \r\n  border-radius: 6px; \r\n  font-size: 16px; \r\n  text-align: center; \r\n  font-weight: 400; \r\n  line-height: 48px; \r\n  letter-spacing: -0.33px; \r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.bottom_btn_group .btn + .btn {\r\n  margin-top: 10px; \r\n}\r\n\r\n.bottom_btn_group .btn_main {\r\n  background-color: var(--main-color); \r\n  color: #fff;\r\n}\r\n\r\n.bottom_btn_group .btn_main:hover {\r\n  background-color: var(--main-color-hover);\r\n}\r\n\r\n.bottom_btn_group .btn_sub {\r\n  background-color: var(--body-color); \r\n  color: var(--main-color); \r\n}\r\n\r\n.bottom_btn_group .btn_sub:hover {\r\n  background-color: var(--main-color);\r\n  color: #fff;\r\n}\r\n\r\n.bottom_btn_group .btn:disabled {\r\n  opacity: 0.6; \r\n  cursor: not-allowed; \r\n}\r\n\r\n.bottom_btn_group .btn.full {\r\n  width: 100%; \r\n}\r\n\r\n/* Utility 클래스 */\r\n.visuallyhidden {\r\n  position: absolute; \r\n  width: 1px; \r\n  height: 1px; \r\n  margin: -1px; \r\n  padding: 0; \r\n  border: 0; \r\n  white-space: nowrap; \r\n  clip-path: inset(100%); \r\n  clip: rect(0,0,0,0); \r\n  overflow: hidden; \r\n}\r\n\r\n/* Container 스타일 */\r\n.container {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.editodo_inner {\r\n  padding: 20px;\r\n}\r\n\r\n.side_pd {\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n}\r\n\r\n/* 메시지 애니메이션 */\r\n.message {\r\n  animation: slideIn 0.3s ease-out;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    transform: translateX(100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* 반응형 디자인 */\r\n@media (max-width: 768px) {\r\n  .container {\r\n    padding: 10px;\r\n  }\r\n  \r\n  .editodo_inner {\r\n    padding: 10px;\r\n  }\r\n  \r\n  .side_pd {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}