server:
  port: 8081
  servlet:
    context-path: /api

spring:
  application:
    name: editodo-backend
  
  datasource:
    url: jdbc:oracle:thin:@(description=(retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1522)(host=adb.ap-chuncheon-1.oraclecloud.com))(connect_data=(service_name=owtzvoor4oegoru_toydbatp230216_high.adb.oraclecloud.com))(security=(ssl_server_dn_match=yes)))
    username: editododb
    password: dpelxnenDB25!@
    driver-class-name: oracle.jdbc.OracleDriver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
      connection-test-query: SELECT 1 FROM DUAL
      validation-timeout: 5000
      leak-detection-threshold: 60000

  # OAuth2 설정
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:your-google-client-id}
            client-secret: ${GOOGLE_CLIENT_SECRET:your-google-client-secret}
            scope:
              - email
              - profile
          kakao:
            client-id: ${KAKAO_CLIENT_ID:your-kakao-client-id}
            client-secret: ${KAKAO_CLIENT_SECRET:your-kakao-client-secret}
            client-authentication-method: post
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            authorization-grant-type: authorization_code
            scope:
              - profile_nickname
              - account_email
            client-name: Kakao
          naver:
            client-id: ${NAVER_CLIENT_ID:your-naver-client-id}
            client-secret: ${NAVER_CLIENT_SECRET:your-naver-client-secret}
            client-authentication-method: post
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            authorization-grant-type: authorization_code
            scope:
              - name
              - email
            client-name: Naver
        provider:
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

  # 이메일 설정
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME:your-email@gmail.com}
    password: ${MAIL_PASSWORD:your-app-password}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

# MyBatis 설정
mybatis:
  config-location: classpath:mybatis-config.xml
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.editodo.entity

# JWT 설정
jwt:
  secret: ${JWT_SECRET:editodo-jwt-secret-key-2025-very-long-and-secure-key-for-hs512-algorithm-must-be-at-least-512-bits-long}
  expiration: 86400000 # 24시간 (밀리초)

# Google Fonts API 설정
google:
  fonts:
    api-key: ${GOOGLE_FONTS_API_KEY:AIzaSyA4tqe9QU-TrNRJbjw8gFMQ-OawSgg4Y2I}

# 파일 업로드 설정
file:
  upload:
    path: uploads
    max-size: 10485760 # 10MB

# 로깅 설정
logging:
  level:
    com.editodo: DEBUG
    org.springframework.security: DEBUG
    org.apache.ibatis: DEBUG
